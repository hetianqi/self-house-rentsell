<!--pages/mp-applications/index.wxml-->
<view class="container">
  <tab active-index="{{activeIndex}}" bindtabchange="onTabChange">
    <tab-item index="rent">求租</tab-item>
    <tab-item index="sell">求购</tab-item>
  </tab>
  <media class="apply-list" wx:if="{{list.length}}">
    <media-item wx:for="{{list}}" wx:key="id" icon-path="{{item.icon}}" data-item="{{item}}" bindtap="jump">
      <text class="title">{{item.name}}</text>
      <text class="desc">{{item.dong + '栋' + item.danyuan + '单元' + item.hao}}</text>
      <text class="desc" wx:if="{{item.state === 2}}">授权开房时间：</text>
      <text class="desc" wx:if="{{item.state === 2}}">{{item.startTime + '---' + item.endTime}}</text>
      <text class="state state-{{item.state}}" slot="right">{{stateMap[item.state]}}</text>
    </media-item>
  </media>
  <view wx:else>
    <view class="no-data-tips">
      <image src="../../images/tips.png"></image>
      <text class="">您还没有申请过看房哟~</text>
    </view>
  </view>
  <view class="pay-tips" wx:if="{{payResult === '0'}}">
    <text class="ps">提示：</text>
    <text class="note">您需要支付押金才可以申请自主看房哦~</text>
    <button class="btn" bindtap="toPay">
      <text class="btn-text">去支付</text>
    </button>
  </view>
</view>